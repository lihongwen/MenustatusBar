# 颜色主题指南 (Color Theme Guide)

## 📊 颜色标准 (Color Standards)

应用使用三级颜色系统来表示资源使用状态：

### 1️⃣ 健康 (Healthy) - 0-59%
- **颜色**: 绿色系 (Green)
- **含义**: 资源使用正常，系统运行良好
- **适用于**: CPU、内存、磁盘使用率在安全范围内

### 2️⃣ 警告 (Warning) - 60-79%
- **颜色**: 黄色系 (Yellow/Orange)
- **含义**: 资源使用较高，需要关注
- **适用于**: CPU、内存、磁盘使用率接近饱和

### 3️⃣ 严重 (Critical) - 80-100%
- **颜色**: 红色系 (Red)
- **含义**: 资源使用过高，可能影响性能
- **适用于**: CPU、内存、磁盘使用率非常高

---

## 🎨 内置主题 (Built-in Themes)

### 1. 系统默认 (System Default)
```swift
Healthy:  绿色 (.green)
Warning:  黄色 (.yellow)
Critical: 红色 (.red)
```
- **适用场景**: 通用，遵循 macOS 系统配色
- **特点**: 清晰、易识别

### 2. 单色 (Monochrome)
```swift
Healthy:  浅灰 (gray 50%)
Warning:  中灰 (gray 70%)
Critical: 深灰 (gray 100%)
```
- **适用场景**: 简洁风格，减少视觉干扰
- **特点**: 低调、专业

### 3. 交通灯 (Traffic Light)
```swift
Healthy:  鲜绿 (rgb: 0, 0.8, 0)
Warning:  橙黄 (rgb: 1, 0.8, 0)
Critical: 鲜红 (rgb: 1, 0, 0)
```
- **适用场景**: 高对比度，易于快速识别
- **特点**: 鲜艳、醒目

### 4. 冷色调 (Cool)
```swift
Healthy:  青蓝 (rgb: 0, 0.7, 0.9)
Warning:  蓝紫 (rgb: 0.4, 0.6, 0.9)
Critical: 紫红 (rgb: 0.6, 0.4, 0.9)
```
- **适用场景**: 舒适的视觉体验，适合长时间使用
- **特点**: 柔和、现代

### 5. 暖色调 (Warm)
```swift
Healthy:  金黄 (rgb: 1, 0.7, 0.2)
Warning:  橙色 (rgb: 1, 0.5, 0.2)
Critical: 红色 (rgb: 1, 0.2, 0.2)
```
- **适用场景**: 温暖的视觉效果
- **特点**: 醒目、温暖

---

## 🔧 主题应用范围 (Theme Application)

颜色主题会应用于以下UI元素：

### ✅ 应用主题的元素

#### 1. **MenuBar 状态栏**
- **主图标颜色** - 根据 CPU 使用率和主题动态改变
  - 0-59%: 主题健康色 (Healthy Color)
  - 60-79%: 主题警告色 (Warning Color)
  - 80-100%: 主题严重色 (Critical Color)

- **状态符号** - 根据主题类型显示不同符号
  - 系统默认: ● (圆点)
  - 单色: ○ ◐ ● (空心→半圆→实心)
  - 交通灯: ✓ ⚠ ✗ (勾→警告→叉)
  - 冷/暖色调: ◆ ◈ ◆ (菱形)

#### 2. **下拉菜单**
- **进度条** (Progress Bars)
  - CPU 使用率进度条
  - 内存使用率进度条
  - 磁盘使用率进度条

- **图标** (Icons)
  - CPU 图标颜色
  - 内存图标颜色
  - 磁盘图标颜色

- **数值文本** (Value Text)
  - CPU 百分比数值
  - 内存使用量
  - 磁盘使用百分比

### ⚪ 部分应用主题的元素
1. **网络图标** - 使用主题的强调色 (accentColor)
2. **MenuBar 文本** - 保持系统默认颜色以保证可读性

### ❌ 不应用主题的元素
1. **设置界面** - 使用系统标准颜色以保持一致性

---

## 🎯 主题符号说明 (Theme Symbols)

### "仅图标"模式下的符号

不同主题在 MenuBar 上使用不同的符号来表示状态：

| 主题 | 良好 (0-59%) | 警告 (60-79%) | 严重 (80-100%) | 说明 |
|------|-------------|--------------|---------------|------|
| 系统默认 | 🟢 | 🟡 | 🔴 | 标准交通灯配色 |
| 单色 | ⚪ | ⚫ | ⬛ | 白圆→黑圆→黑方块渐变 |
| 交通灯 | 🟢 | 🟡 | 🔴 | 清晰的交通灯 emoji |
| 冷色调 | 🔵 | 🟣 | 🔴 | 蓝→紫→红冷色系 |
| 暖色调 | 🟡 | 🟠 | 🔴 | 黄→橙→红暖色系 |

**显示说明**：
- 使用 **emoji 彩色圆点**，在所有系统上都能正确显示
- **单色主题**使用白圆⚪、黑圆⚫、黑方块⬛来区分状态（更清晰可见）
- **彩色主题**使用对应颜色系的 emoji 圆点
- MenuBar 主图标颜色也会同步改变

**单色主题图标颜色**：
- 良好状态 (0-59%): 浅灰色
- 警告状态 (60-79%): 中灰色
- 严重状态 (80-100%): 深灰色

### "图标 + 数值"模式下的显示

此模式下会显示图标和具体数值，例如：
- CPU < 60%: 图标显示主题的健康色
- CPU 60-79%: 图标显示主题的警告色
- CPU ≥ 80%: 图标显示主题的严重色

---

## 💡 使用建议 (Usage Tips)

### 选择合适的主题：

1. **日常使用** → 系统默认 或 冷色调
   - 平衡的视觉效果，不易产生视觉疲劳
   - 颜色清晰，易于识别

2. **专注工作** → 单色
   - 减少颜色干扰，专注于数值本身
   - 通过符号形状也能识别状态

3. **快速识别** → 交通灯
   - 颜色对比度高，一眼就能看出状态
   - 符号语义明确（✓勾表示正常，✗叉表示危险）

4. **个性化** → 暖色调 或 冷色调
   - 根据个人喜好选择
   - 暖色调更醒目，冷色调更柔和

---

## 🔄 主题切换 (Theme Switching)

1. 打开设置 (Settings)
2. 切换到"外观" (Appearance) 标签
3. 在"颜色主题" (Color Theme) 部分选择喜欢的主题
4. 颜色会**实时应用**，无需重启

---

## 🛠️ 技术实现 (Technical Implementation)

### 颜色计算逻辑
```swift
func getColorForPercentage(_ percentage: Double, theme: ColorTheme) -> Color {
    if percentage < 60 {
        return theme.healthyColor  // 健康
    } else if percentage < 80 {
        return theme.warningColor  // 警告
    } else {
        return theme.criticalColor // 严重
    }
}
```

### 主题定义示例
```swift
protocol ColorTheme {
    var healthyColor: Color { get }
    var warningColor: Color { get }
    var criticalColor: Color { get }
    var accentColor: Color { get }
    // ...
}
```

---

## 📌 注意事项 (Notes)

1. **颜色阈值固定**: 60% 和 80% 的阈值是固定的，适用于大多数场景
2. **主题持久化**: 选择的主题会自动保存到 UserDefaults
3. **实时更新**: 主题更改后，所有UI元素会立即更新
4. **语言支持**: 主题名称支持中英文显示

---

## 🎯 最佳实践 (Best Practices)

1. **根据环境选择**:
   - 暗色模式 (Dark Mode) → 建议使用冷色调或单色
   - 亮色模式 (Light Mode) → 所有主题都适用

2. **关注可读性**:
   - 如果发现某个主题在您的显示器上不清晰，请尝试其他主题

3. **性能考虑**:
   - 主题切换是轻量级操作，不会影响监控性能

---

**版本**: 1.0  
**最后更新**: 2025-10-02


